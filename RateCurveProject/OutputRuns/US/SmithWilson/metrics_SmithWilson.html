<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Métriques de Courbe de Taux</title>
    <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 300;
        }
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        .chart-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-container h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #667eea;
            font-weight: 600;
        }
        .chart {
            width: 100%;
            height: 350px;
        }
        .table-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        thead {
            background: #f8f9fa;
            border-bottom: 2px solid #667eea;
        }
        th {
            padding: 16px;
            text-align: left;
            font-weight: 600;
            color: #333;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        td {
            padding: 12px 16px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 13px;
        }
        tbody tr:hover {
            background-color: #f9f9f9;
        }
        tbody tr:nth-child(even) {
            background-color: #fafafa;
        }
        .metric {
            font-weight: 500;
            color: #667eea;
        }
        .positive { color: #27ae60; }
        .negative { color: #e74c3c; }
        .footer {
            text-align: center;
            padding: 20px;
            color: #999;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 Métriques de Courbe de Taux</h1>
            <p>Analyse interactive des taux zéro, facteurs d'actualisation et dérivées</p>
        </div>

        <div class="charts-grid">
            <div class="chart-container">
                <h3>Slope (dZ/dt)</h3>
                <div id="chartSlope" class="chart"></div>
            </div>
            <div class="chart-container">
                <h3>Convexité (d²Z/dt²)</h3>
                <div id="chartConvexity" class="chart"></div>
            </div>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Maturité (ans)</th>
                        <th>Taux Zéro (%)</th>
                        <th>Discount Factor</th>
                        <th>Forward (%)</th>
                        <th>Slope</th>
                        <th>Convexité</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="metric">0.25</td>
                        <td class="metric">3.5040</td>
                        <td>0.991278</td>
                        <td class="metric">10.4484</td>
                        <td class="positive">0.277603</td>
                        <td class="negative">-10.291875</td>
                    </tr>
                    <tr>
                        <td class="metric">0.50</td>
                        <td class="metric">3.6790</td>
                        <td>0.981773</td>
                        <td class="metric">3.8180</td>
                        <td class="positive">0.002771</td>
                        <td class="negative">-1.053606</td>
                    </tr>
                    <tr>
                        <td class="metric">1.00</td>
                        <td class="metric">3.4043</td>
                        <td>0.966530</td>
                        <td class="metric">22.8036</td>
                        <td class="positive">0.193886</td>
                        <td class="negative">-4.000609</td>
                    </tr>
                    <tr>
                        <td class="metric">2.00</td>
                        <td class="metric">3.4398</td>
                        <td>0.933517</td>
                        <td class="metric">12.9388</td>
                        <td class="positive">0.047465</td>
                        <td class="negative">-1.305685</td>
                    </tr>
                    <tr>
                        <td class="metric">3.00</td>
                        <td class="metric">3.4373</td>
                        <td>0.902019</td>
                        <td class="metric">12.0208</td>
                        <td class="positive">0.028598</td>
                        <td class="negative">-0.042187</td>
                    </tr>
                    <tr>
                        <td class="metric">5.00</td>
                        <td class="metric">3.5803</td>
                        <td>0.836094</td>
                        <td class="metric">2.2972</td>
                        <td class="negative">-0.002565</td>
                        <td class="negative">-0.024989</td>
                    </tr>
                    <tr>
                        <td class="metric">7.00</td>
                        <td class="metric">3.7568</td>
                        <td>0.768758</td>
                        <td class="metric">2.8746</td>
                        <td class="negative">-0.001260</td>
                        <td class="positive">0.043497</td>
                    </tr>
                    <tr>
                        <td class="metric">10.00</td>
                        <td class="metric">4.0259</td>
                        <td>0.668584</td>
                        <td class="metric">1.0264</td>
                        <td class="negative">-0.002999</td>
                        <td class="negative">-0.029925</td>
                    </tr>
                    <tr>
                        <td class="metric">15.00</td>
                        <td class="metric">4.5087</td>
                        <td>0.508493</td>
                        <td class="metric">5.5579</td>
                        <td class="positive">0.000699</td>
                        <td class="positive">0.002282</td>
                    </tr>
                    <tr>
                        <td class="metric">20.00</td>
                        <td class="metric">4.7774</td>
                        <td>0.384625</td>
                        <td class="metric">5.2375</td>
                        <td class="positive">0.000230</td>
                        <td class="positive">0.000932</td>
                    </tr>
                    <tr>
                        <td class="metric">30.00</td>
                        <td class="metric">4.7381</td>
                        <td>0.241371</td>
                        <td class="metric">3.2761</td>
                        <td class="negative">-0.000487</td>
                        <td class="negative">-0.000029</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="footer">
            <p>Généré le 2025-11-26 22:05:04 | RateCurveProject</p>
        </div>
    </div>

    <script>
        const xs = [0.25,0.5,1,2,3,5,7,10,15,20,30];
        const slopes = [0.2776025841326919,0.002770586776820738,0.1938855742491287,0.04746545672075497,0.028597857538930488,-0.0025651605805449007,-0.0012604634102228451,-0.0029994903429746145,0.0006994740541881039,0.00022996940529998455,-0.000487294714263814];
        const convexities = [-10.291874928049229,-1.053606033710186,-4.000609040523407,-1.30568482492599,-0.042187235656243605,-0.024988834196326692,0.043496917151442105,-0.02992508538884886,0.0022824191217574175,0.0009321872926348895,-2.8568265808548432E-05];

        // Graphique 1: Slope
        const traceSlope = {
            x: xs,
            y: slopes,
            mode: 'lines+markers',
            name: 'Slope (dZ/dt)',
            line: { color: '#e74c3c', width: 2 },
            marker: { size: 4 }
        };
        const layoutSlope = {
            title: '',
            xaxis: { title: 'Maturité (années)' },
            yaxis: { title: 'Slope' },
            margin: { t: 20, l: 60, r: 60, b: 50 },
            hovermode: 'x unified'
        };
        Plotly.newPlot('chartSlope', [traceSlope], layoutSlope, { responsive: true });

        // Graphique 2: Convexité
        const traceConvexity = {
            x: xs,
            y: convexities,
            mode: 'lines+markers',
            name: 'Convexité (d²Z/dt²)',
            line: { color: '#f39c12', width: 2 },
            marker: { size: 4 }
        };
        const layoutConvexity = {
            title: '',
            xaxis: { title: 'Maturité (années)' },
            yaxis: { title: 'Convexité' },
            margin: { t: 20, l: 60, r: 60, b: 50 },
            hovermode: 'x unified'
        };
        Plotly.newPlot('chartConvexity', [traceConvexity], layoutConvexity, { responsive: true });
    </script>
</body>
</html>